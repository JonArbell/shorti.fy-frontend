<section
  class="h-screen w-full flex items-center justify-center bg-gray-50 px-4 py-6"
>

  @if(isLoading()){

   <div class="fixed inset-0 flex h-screen w-screen flex-col items-center justify-center bg-white/50 backdrop-blur-sm z-50">
    <div class="w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"></div>
    <p class="mt-4 text-gray-700 font-medium text-lg">Processing your url. Please wait...</p>
  </div>

  }@else{
      
    <div class="w-full max-w-3xl space-y-6 sm:space-y-8">
      <!-- Brand + URL Shorten Card -->
      <div
        class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-10 space-y-4 sm:space-y-6"
      >
        <h1
          class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-center text-blue-700 drop-shadow-sm"
        >
          Shorti.fy
        </h1>

        <form (ngSubmit)="shortenUrl()" class="space-y-3 sm:space-y-4">
          <h2
            class="text-lg sm:text-xl md:text-2xl font-bold text-gray-700 text-center"
          >
            Paste the URL to be shortened
          </h2>

          <div
            class="flex flex-col sm:flex-row items-center gap-3 sm:gap-4 w-full"
          >
            <input
              name="longUrl"
              [(ngModel)]="longUrl"
              type="text"
              placeholder="Enter a long valid URL"
              class="flex-1 border border-gray-300 rounded-xl px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all shadow-sm w-full"
            />

            <button
              type="submit"
              class="bg-blue-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-semibold hover:bg-blue-700 transition-all w-full sm:w-auto text-sm sm:text-base"
            >
              Shorten
            </button>
          </div>

          <button
            class="w-full bg-green-700 text-white px-4 py-2 sm:px-5 sm:py-3 rounded-xl font-semibold hover:bg-green-800 transition-all text-sm sm:text-base"
            type="button"
          >
            Advanced Options
          </button>
        </form>
      </div>

      <!-- Result Section -->
      <div
        class="bg-white rounded-2xl shadow p-4 sm:p-6 md:p-8 space-y-3 sm:space-y-4 text-center"
      >
        <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800">
          Result
        </h3>

        <div
          class="flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4"
        >
          <p class="text-sm font-medium text-gray-600">Shortened URL:</p>

          <button
            [ngClass]="{
              'bg-gray-300': isClicked,
              'bg-gray-100': !isClicked,
            }"
            (click)="copyLink($event)"
            class="px-4 py-2 rounded-lg shadow-sm text-blue-700 font-semibold w-full sm:w-auto truncate max-w-[75%] text-sm sm:text-base"
          >
            {{ result() }}
          </button>
        </div>
      </div>
    </div>
  }

</section>
